<!DOCTYPE html>
<html lang="en">
<script src="scripts/engine.js"></script>
<head>
    <meta charset="UTF-8">
    <title>RPS</title>
</head>
<body>
<h1>Rock, Paper, Scissors</h1>
<p>Click the button to start the game!</p>
<button onclick="playGame()">Play!</button>

<script>
    function playGame() {
        let scorePlayer = 0;
        let scorePC = 0;
        let match = 1;
        let resultMatch;

        let elmPlayerSelection = document.getElementById("playerSelection");
        let elmComputerSelection = document.getElementById("computerSelection");
        let elmScorePlayer = document.getElementById("scorePlayer");
        let elmScorePC = document.getElementById("scorePC");
        let elMatch = document.getElementById("match");
        let elmResultMatch = document.getElementById("resultMatch");

        while (match <= 5) {
            elMatch.innerHTML = match.toString();
            let playerSelection = prompt("Rock Paper or Scissor?");
            elmPlayerSelection.innerHTML = playerSelection;
            //checkInput

            let computerSelection = getComputerChoice();
            elmComputerSelection.innerHTML = computerSelection;

            resultMatch = playMatch(playerSelection, computerSelection);


            if (resultMatch === 'WIN') {
                scorePlayer++;
                console.log('You won this round!');
                elmResultMatch.innerHTML = 'You won this round!';
                //best of 3
                if (scorePlayer === 3 && scorePC < 3)
                    match = 6;
            } else if (resultMatch === 'LOST') {
                scorePC++;
                console.log('You lost this round!');
                elmResultMatch.innerHTML = 'You lost this round!';
                if (scorePC === 3 && scorePlayer < 3)
                    match = 6;
            }

            elmScorePlayer.innerHTML = scorePlayer.toString();
            elmScorePC.innerHTML = scorePC.toString();
            match++;
        }

        console.log("Results!");
        console.log("User | PC ");
        console.log(scorePlayer + " | " + scorePC);

        let gameResult = document.getElementById("gameResult");
        if (scorePlayer > scorePC){
          console.log("You won the game!");
          gameResult.innerHTML = "You won the game!";
        }
        else{
          console.log("You lost the game!");
          gameResult.innerHTML = "You lost the game!";
        }

    }
</script>

<h2>Match #</h2><h3 id="match"></h3>
<h3>User: </h3> <p id="playerSelection"></p>
<h3>PC: </h3> <p id="computerSelection"></p>
<h3 id="resultMatch"></h3>

<h2>Result !</h2>
<h3>User: </h3> <p id="scorePlayer"></p>
<h3>PC: </h3> <p id="scorePC"></p>
<h3 id="gameResult"></h3>

</body>
</html>